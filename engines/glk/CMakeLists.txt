add_library(glk STATIC)

target_sources(
  glk
  PRIVATE blorb.cpp
          conf.cpp
          debugger.cpp
          events.cpp
          fonts.cpp
          glk.cpp
          glk_api.cpp
          glk_dispa.cpp
          metaengine.cpp
          pc_speaker.cpp
          picture.cpp
          quetzal.cpp
          raw_decoder.cpp
          screen.cpp
          selection.cpp
          sound.cpp
          speech.cpp
          streams.cpp
          time.cpp
          unicode.cpp
          unicode_gen.cpp
          utils.cpp
          windows.cpp
          window_graphics.cpp
          window_pair.cpp
          window_text_buffer.cpp
          window_text_grid.cpp
          adrift/adrift.cpp
          adrift/os_glk.cpp
          adrift/scdebug.cpp
          adrift/scevents.cpp
          adrift/scexpr.cpp
          adrift/scgamest.cpp
          adrift/scinterf.cpp
          adrift/sclibrar.cpp
          adrift/sclocale.cpp
          adrift/scmemos.cpp
          adrift/scnpcs.cpp
          adrift/scobjcts.cpp
          adrift/scparser.cpp
          adrift/scprintf.cpp
          adrift/scprops.cpp
          adrift/scresour.cpp
          adrift/screstrs.cpp
          adrift/scrunner.cpp
          adrift/sctaffil.cpp
          adrift/sctafpar.cpp
          adrift/sctasks.cpp
          adrift/scutils.cpp
          adrift/scvars.cpp
          adrift/serialization.cpp
          adrift/sxfile.cpp
          adrift/sxglob.cpp
          adrift/sxutils.cpp
          advsys/advsys.cpp
          advsys/game.cpp
          advsys/glk_interface.cpp
          advsys/vm.cpp
          agt/agil.cpp
          agt/agt.cpp
          agt/agtread.cpp
          agt/agxfile.cpp
          agt/auxfile.cpp
          agt/debugcmd.cpp
          agt/disassemble.cpp
          agt/exec.cpp
          agt/filename.cpp
          agt/gamedata.cpp
          agt/interface.cpp
          agt/metacommand.cpp
          agt/object.cpp
          agt/os_glk.cpp
          agt/parser.cpp
          agt/runverb.cpp
          agt/savegame.cpp
          agt/token.cpp
          agt/util.cpp
          agt/vars.cpp
          alan2/alan2.cpp
          alan2/alan_version.cpp
          alan2/args.cpp
          alan2/debug.cpp
          alan2/decode.cpp
          alan2/exe.cpp
          alan2/glkio.cpp
          alan2/inter.cpp
          alan2/main.cpp
          alan2/params.cpp
          alan2/parse.cpp
          alan2/reverse.cpp
          alan2/rules.cpp
          alan2/stack.cpp
          alan2/sysdep.cpp
          alan2/types.cpp
          alan3/acode.cpp
          alan3/act.cpp
          alan3/actor.cpp
          alan3/alan3.cpp
          alan3/alan_version.cpp
          alan3/alt_info.cpp
          alan3/attribute.cpp
          alan3/checkentry.cpp
          alan3/class.cpp
          alan3/compatibility.cpp
          alan3/container.cpp
          alan3/current.cpp
          alan3/debug.cpp
          alan3/decode.cpp
          alan3/dictionary.cpp
          alan3/event.cpp
          alan3/exe.cpp
          alan3/fnmatch.cpp
          alan3/glkio.cpp
          alan3/instance.cpp
          alan3/inter.cpp
          alan3/lists.cpp
          alan3/literal.cpp
          alan3/location.cpp
          alan3/main.cpp
          alan3/memory.cpp
          alan3/msg.cpp
          alan3/options.cpp
          alan3/output.cpp
          alan3/parameter_position.cpp
          alan3/params.cpp
          alan3/parse.cpp
          alan3/reverse.cpp
          alan3/rules.cpp
          alan3/save.cpp
          alan3/scan.cpp
          alan3/score.cpp
          alan3/set.cpp
          alan3/stack.cpp
          alan3/state.cpp
          alan3/state_stack.cpp
          alan3/syntax.cpp
          alan3/sysdep.cpp
          alan3/syserr.cpp
          alan3/types.cpp
          alan3/utils.cpp
          alan3/word.cpp
          archetype/archetype.cpp
          archetype/array.cpp
          archetype/crypt.cpp
          archetype/error.cpp
          archetype/expression.cpp
          archetype/game_stat.cpp
          archetype/heap_sort.cpp
          archetype/id_table.cpp
          archetype/interpreter.cpp
          archetype/keywords.cpp
          archetype/linked_list.cpp
          archetype/misc.cpp
          archetype/parser.cpp
          archetype/saveload.cpp
          archetype/semantic.cpp
          archetype/string.cpp
          archetype/sys_object.cpp
          archetype/timestamp.cpp
          archetype/token.cpp
          comprehend/charset.cpp
          comprehend/comprehend.cpp
          comprehend/debugger.cpp
          comprehend/debugger_dumper.cpp
          comprehend/dictionary.cpp
          comprehend/draw_surface.cpp
          comprehend/file_buf.cpp
          comprehend/game.cpp
          comprehend/game_cc.cpp
          comprehend/game_data.cpp
          comprehend/game_oo.cpp
          comprehend/game_opcodes.cpp
          comprehend/game_tm.cpp
          comprehend/game_tr1.cpp
          comprehend/game_tr2.cpp
          comprehend/pics.cpp
          glulx/accel.cpp
          glulx/exec.cpp
          glulx/float.cpp
          glulx/funcs.cpp
          glulx/gestalt.cpp
          glulx/glkop.cpp
          glulx/glulx.cpp
          glulx/heap.cpp
          glulx/operand.cpp
          glulx/search.cpp
          glulx/serial.cpp
          glulx/string.cpp
          glulx/vm.cpp
          hugo/heexpr.cpp
          hugo/heglk.cpp
          hugo/hemedia.cpp
          hugo/hemisc.cpp
          hugo/heobject.cpp
          hugo/heparse.cpp
          hugo/heres.cpp
          hugo/herun.cpp
          hugo/heset.cpp
          hugo/htokens.cpp
          hugo/hugo.cpp
          hugo/resource_archive.cpp
          hugo/stringfn.cpp
          jacl/display.cpp
          jacl/encapsulate.cpp
          jacl/errors.cpp
          jacl/findroute.cpp
          jacl/glk_saver.cpp
          jacl/interpreter.cpp
          jacl/jacl.cpp
          jacl/jacl_main.cpp
          jacl/jpp.cpp
          jacl/libcsv.cpp
          jacl/loader.cpp
          jacl/logging.cpp
          jacl/parser.cpp
          jacl/resolvers.cpp
          jacl/utils.cpp
          level9/bitmap.cpp
          level9/level9.cpp
          level9/level9_main.cpp
          level9/os_glk.cpp
          magnetic/emu.cpp
          magnetic/glk.cpp
          magnetic/magnetic.cpp
          quest/geas_file.cpp
          quest/geas_glk.cpp
          quest/geas_runner.cpp
          quest/geas_state.cpp
          quest/geas_util.cpp
          quest/quest.cpp
          quest/read_file.cpp
          quest/string.cpp
          quest/streams.cpp
          scott/c64_checksums.cpp
          scott/command_parser.cpp
          scott/decompress_text.cpp
          scott/decompress_z80.cpp
          scott/definitions.cpp
          scott/disk_image.cpp
          scott/load_game.cpp
          scott/game_info.cpp
          scott/game_specific.cpp
          scott/globals.cpp
          scott/gremlins.cpp
          scott/hulk.cpp
          scott/layout_text.cpp
          scott/line_drawing.cpp
          scott/load_ti99_4a.cpp
          scott/resource.cpp
          scott/restore_state.cpp
          scott/ring_buffer.cpp
          scott/robin_of_sherwood.cpp
          scott/saga_draw.cpp
          scott/scott.cpp
          scott/seas_of_blood.cpp
          scott/ti99_4a_terp.cpp
          scott/unp64/unp64.cpp
          scott/unp64/6502_emu.cpp
          scott/unp64/exo_util.cpp
          scott/unp64/scanners/scanners.cpp
          scott/unp64/scanners/action_packer.cpp
          scott/unp64/scanners/byte_boiler.cpp
          scott/unp64/scanners/caution.cpp
          scott/unp64/scanners/ccs.cpp
          scott/unp64/scanners/cruel.cpp
          scott/unp64/scanners/eca.cpp
          scott/unp64/scanners/exomizer.cpp
          scott/unp64/scanners/expert.cpp
          scott/unp64/scanners/master_compressor.cpp
          scott/unp64/scanners/megabyte.cpp
          scott/unp64/scanners/pu_crunch.cpp
          scott/unp64/scanners/section8.cpp
          scott/unp64/scanners/tbc_multicomp.cpp
          scott/unp64/scanners/tcs_crunch.cpp
          scott/unp64/scanners/xtc.cpp
          tads/os_banners.cpp
          tads/os_buffer.cpp
          tads/os_glk.cpp
          tads/os_frob_tads.cpp
          tads/os_parse.cpp
          tads/tads.cpp
          tads/tads2/built_in.cpp
          tads/tads2/character_map.cpp
          tads/tads2/command_line.cpp
          tads/tads2/data.cpp
          tads/tads2/debug.cpp
          tads/tads2/error.cpp
          tads/tads2/error_handling.cpp
          tads/tads2/error_message.cpp
          tads/tads2/execute_command.cpp
          tads/tads2/file_io.cpp
          tads/tads2/get_string.cpp
          tads/tads2/line_source_file.cpp
          tads/tads2/list.cpp
          tads/tads2/ltk.cpp
          tads/tads2/memory_cache.cpp
          tads/tads2/memory_cache_heap.cpp
          tads/tads2/memory_cache_swap.cpp
          tads/tads2/object.cpp
          tads/tads2/os.cpp
          tads/tads2/output.cpp
          tads/tads2/play.cpp
          tads/tads2/post_compilation.cpp
          tads/tads2/qa_scriptor.cpp
          tads/tads2/regex.cpp
          tads/tads2/run.cpp
          tads/tads2/runstat.cpp
          tads/tads2/runtime_app.cpp
          tads/tads2/runtime_driver.cpp
          tads/tads2/tads2.cpp
          tads/tads2/tokenizer.cpp
          tads/tads2/tokenizer_hash.cpp
          tads/tads2/vocabulary.cpp
          tads/tads2/vocabulary_parser.cpp
          tads/tads3/tads3.cpp
          zcode/bitmap_font.cpp
          zcode/config.cpp
          zcode/zcode.cpp
          zcode/glk_interface.cpp
          zcode/mem.cpp
          zcode/pics.cpp
          zcode/pics_decoder.cpp
          zcode/processor.cpp
          zcode/processor_buffer.cpp
          zcode/processor_input.cpp
          zcode/processor_maths.cpp
          zcode/processor_mem.cpp
          zcode/processor_objects.cpp
          zcode/processor_screen.cpp
          zcode/processor_streams.cpp
          zcode/processor_table.cpp
          zcode/processor_text.cpp
          zcode/processor_variables.cpp
          zcode/processor_windows.cpp
          zcode/quetzal.cpp
          zcode/screen.cpp
          zcode/sound_folder.cpp
          zcode/windows.cpp
          detection.cpp
          adrift/detection.cpp
          advsys/detection.cpp
          agt/detection.cpp
          alan2/detection.cpp
          alan3/detection.cpp
          archetype/detection.cpp
          comprehend/detection.cpp
          glulx/detection.cpp
          hugo/detection.cpp
          jacl/detection.cpp
          level9/detection.cpp
          magnetic/detection.cpp
          quest/detection.cpp
          scott/detection.cpp
          tads/detection.cpp
          zcode/detection.cpp
  PRIVATE FILE_SET
          HEADERS
          FILES
          blorb.h
          conf.h
          debugger.h
          events.h
          fonts.h
          glk.h
          glk_api.h
          pc_speaker.h
          picture.h
          quetzal.h
          raw_decoder.h
          screen.h
          selection.h
          sound.h
          speech.h
          streams.h
          time.h
          unicode.h
          unicode_gen.h
          utils.h
          windows.h
          window_graphics.h
          window_pair.h
          window_text_buffer.h
          window_text_grid.h
          adrift/adrift.h
          adrift/os_glk.h
          adrift/scgamest.h
          adrift/serialization.h
          advsys/advsys.h
          advsys/game.h
          advsys/glk_interface.h
          advsys/vm.h
          agt/agt.h
          agt/exec.h
          alan2/alan2.h
          alan2/alan_version.h
          alan2/args.h
          alan2/debug.h
          alan2/decode.h
          alan2/exe.h
          alan2/glkio.h
          alan2/inter.h
          alan2/main.h
          alan2/params.h
          alan2/parse.h
          alan2/reverse.h
          alan2/rules.h
          alan2/stack.h
          alan2/sysdep.h
          alan2/types.h
          alan3/acode.h
          alan3/act.h
          alan3/actor.h
          alan3/alan3.h
          alan3/alan_version.h
          alan3/alt_info.h
          alan3/attribute.h
          alan3/checkentry.h
          alan3/class.h
          alan3/compatibility.h
          alan3/container.h
          alan3/current.h
          alan3/debug.h
          alan3/decode.h
          alan3/dictionary.h
          alan3/event.h
          alan3/exe.h
          alan3/fnmatch.h
          alan3/glkio.h
          alan3/instance.h
          alan3/inter.h
          alan3/lists.h
          alan3/literal.h
          alan3/location.h
          alan3/main.h
          alan3/memory.h
          alan3/msg.h
          alan3/options.h
          alan3/output.h
          alan3/parameter_position.h
          alan3/params.h
          alan3/parse.h
          alan3/reverse.h
          alan3/rules.h
          alan3/save.h
          alan3/scan.h
          alan3/score.h
          alan3/set.h
          alan3/stack.h
          alan3/state.h
          alan3/state_stack.h
          alan3/syntax.h
          alan3/sysdep.h
          alan3/syserr.h
          alan3/types.h
          alan3/utils.h
          alan3/word.h
          archetype/archetype.h
          archetype/array.h
          archetype/crypt.h
          archetype/error.h
          archetype/expression.h
          archetype/game_stat.h
          archetype/heap_sort.h
          archetype/id_table.h
          archetype/interpreter.h
          archetype/keywords.h
          archetype/linked_list.h
          archetype/misc.h
          archetype/parser.h
          archetype/saveload.h
          archetype/semantic.h
          archetype/string.h
          archetype/sys_object.h
          archetype/timestamp.h
          archetype/token.h
          comprehend/charset.h
          comprehend/comprehend.h
          comprehend/debugger.h
          comprehend/debugger_dumper.h
          comprehend/dictionary.h
          comprehend/draw_surface.h
          comprehend/file_buf.h
          comprehend/game.h
          comprehend/game_cc.h
          comprehend/game_data.h
          comprehend/game_oo.h
          comprehend/game_opcodes.h
          comprehend/game_tm.h
          comprehend/game_tr1.h
          comprehend/game_tr2.h
          comprehend/pics.h
          glulx/float.h
          glulx/glulx.h
          hugo/htokens.h
          hugo/hugo.h
          hugo/resource_archive.h
          hugo/stringfn.h
          jacl/jacl.h
          level9/level9.h
          level9/level9_main.h
          level9/os_glk.h
          magnetic/magnetic.h
          quest/geas_file.h
          quest/geas_glk.h
          quest/geas_runner.h
          quest/geas_state.h
          quest/geas_util.h
          quest/quest.h
          quest/read_file.h
          quest/string.h
          quest/streams.h
          scott/c64_checksums.h
          scott/command_parser.h
          scott/decompress_text.h
          scott/decompress_z80.h
          scott/definitions.h
          scott/disk_image.h
          scott/load_game.h
          scott/game_info.h
          scott/game_specific.h
          scott/globals.h
          scott/gremlins.h
          scott/hulk.h
          scott/layout_text.h
          scott/line_drawing.h
          scott/load_ti99_4a.h
          scott/resource.h
          scott/restore_state.h
          scott/ring_buffer.h
          scott/robin_of_sherwood.h
          scott/saga_draw.h
          scott/scott.h
          scott/seas_of_blood.h
          scott/ti99_4a_terp.h
          scott/unp64/unp64.h
          scott/unp64/6502_emu.h
          scott/unp64/exo_util.h
          tads/os_banners.h
          tads/os_buffer.h
          tads/os_glk.h
          tads/os_frob_tads.h
          tads/os_parse.h
          tads/tads.h
          tads/tads2/built_in.h
          tads/tads2/character_map.h
          tads/tads2/command_line.h
          tads/tads2/data.h
          tads/tads2/debug.h
          tads/tads2/error.h
          tads/tads2/error_handling.h
          tads/tads2/file_io.h
          tads/tads2/line_source_file.h
          tads/tads2/list.h
          tads/tads2/ltk.h
          tads/tads2/memory_cache.h
          tads/tads2/memory_cache_heap.h
          tads/tads2/memory_cache_swap.h
          tads/tads2/object.h
          tads/tads2/os.h
          tads/tads2/play.h
          tads/tads2/post_compilation.h
          tads/tads2/regex.h
          tads/tads2/run.h
          tads/tads2/runtime_app.h
          tads/tads2/tads2.h
          tads/tads2/tokenizer.h
          tads/tads2/vocabulary.h
          tads/tads3/tads3.h
          zcode/bitmap_font.h
          zcode/config.h
          zcode/zcode.h
          zcode/glk_interface.h
          zcode/mem.h
          zcode/pics.h
          zcode/pics_decoder.h
          zcode/processor.h
          zcode/quetzal.h
          zcode/screen.h
          zcode/sound_folder.h
          zcode/windows.h
          detection.h
          adrift/detection.h
          advsys/detection.h
          agt/detection.h
          alan2/detection.h
          alan3/detection.h
          archetype/detection.h
          comprehend/detection.h
          glulx/detection.h
          hugo/detection.h
          jacl/detection.h
          level9/detection.h
          magnetic/detection.h
          quest/detection.h
          scott/detection.h
          tads/detection.h
          zcode/detection.h
)

add_library(glk_detection)

target_sources(
  glk_detection
  PRIVATE detection.cpp
          # Sub-engines
          adrift/detection.cpp
          advsys/detection.cpp
          agt/detection.cpp
          alan2/detection.cpp
          alan3/detection.cpp
          archetype/detection.cpp
          comprehend/detection.cpp
          glulx/detection.cpp
          hugo/detection.cpp
          jacl/detection.cpp
          level9/detection.cpp
          magnetic/detection.cpp
          quest/detection.cpp
          scott/detection.cpp
          tads/detection.cpp
          zcode/detection.cpp
          # Dependencies
          blorb.cpp
          advsys/game.cpp
)
