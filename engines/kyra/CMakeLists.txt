add_library(kyra STATIC)

target_sources(
  kyra
  PRIVATE engine/items_lok.cpp
          engine/items_v2.cpp
          engine/items_hof.cpp
          engine/items_mr.cpp
          engine/kyra_v1.cpp
          engine/kyra_lok.cpp
          engine/kyra_v2.cpp
          engine/kyra_hof.cpp
          engine/kyra_mr.cpp
          engine/scene_v1.cpp
          engine/scene_lok.cpp
          engine/scene_v2.cpp
          engine/scene_hof.cpp
          engine/scene_mr.cpp
          engine/sprites.cpp
          engine/timer.cpp
          engine/timer_lok.cpp
          engine/timer_hof.cpp
          engine/timer_mr.cpp
          engine/util.cpp
          graphics/animator_lok.cpp
          graphics/animator_v2.cpp
          graphics/animator_hof.cpp
          graphics/animator_mr.cpp
          graphics/animator_tim.cpp
          graphics/screen.cpp
          graphics/screen_lok.cpp
          graphics/screen_v2.cpp
          graphics/screen_hof.cpp
          graphics/screen_mr.cpp
          graphics/vqa.cpp
          graphics/wsamovie.cpp
          gui/debugger.cpp
          gui/gui.cpp
          gui/gui_v1.cpp
          gui/gui_lok.cpp
          gui/gui_v2.cpp
          gui/gui_hof.cpp
          gui/gui_mr.cpp
          gui/saveload.cpp
          gui/saveload_lok.cpp
          gui/saveload_hof.cpp
          gui/saveload_mr.cpp
          metaengine.cpp
          resource/resource.cpp
          resource/resource_intern.cpp
          resource/staticres.cpp
          script/script_v1.cpp
          script/script_lok.cpp
          script/script_v2.cpp
          script/script_hof.cpp
          script/script_mr.cpp
          script/script.cpp
          script/script_tim.cpp
          sequence/seqplayer_lok.cpp
          sequence/sequences_lok.cpp
          sequence/sequences_v2.cpp
          sequence/sequences_hof.cpp
          sequence/sequences_mr.cpp
          sound/sound_amiga_lok.cpp
          sound/sound_digital_mr.cpp
          sound/sound_mac_lok.cpp
          sound/sound_pc_midi.cpp
          sound/sound_pc_v1.cpp
          sound/sound_pc98_lok.cpp
          sound/sound_pc98_v2.cpp
          sound/sound_towns_lok.cpp
          sound/sound.cpp
          sound/sound_lok.cpp
          sound/drivers/adlib.cpp
          sound/drivers/audstream.cpp
          sound/drivers/halestorm.cpp
          sound/drivers/pcspeaker_v2.cpp
          text/text.cpp
          text/text_lok.cpp
          text/text_hof.cpp
          text/text_mr.cpp
  PRIVATE FILE_SET
          HEADERS
          FILES
          engine/kyra_lok.h
          engine/kyra_v2.h
          engine/kyra_hof.h
          engine/kyra_mr.h
          engine/sprites.h
          engine/timer.h
          engine/util.h
          graphics/animator_lok.h
          graphics/screen.h
          graphics/screen_lok.h
          graphics/screen_v2.h
          graphics/screen_hof.h
          graphics/screen_mr.h
          graphics/vqa.h
          graphics/wsamovie.h
          gui/debugger.h
          gui/gui.h
          gui/gui_v1.h
          gui/gui_lok.h
          gui/gui_v2.h
          gui/gui_hof.h
          gui/gui_mr.h
          resource/resource.h
          resource/resource_intern.h
          script/script.h
          script/script_tim.h
          sequence/seqplayer_lok.h
          sequence/sequences_hof.h
          sound/sound_digital_mr.h
          sound/sound_pc_v1.h
          sound/sound.h
          sound/drivers/halestorm.h
          text/text.h
          text/text_hof.h
          text/text_mr.h
)

if(ENABLE_LOL)
  target_sources(
    kyra
    PRIVATE $(KYRARPG_COMMON_OBJ)
            engine/items_lol.cpp
            engine/lol.cpp
            engine/scene_lol.cpp
            engine/sprites_lol.cpp
            engine/timer_lol.cpp
            graphics/screen_lol.cpp
            gui/gui_lol.cpp
            gui/saveload_lol.cpp
            resource/staticres_lol.cpp
            script/script_lol.cpp
            sequence/sequences_lol.cpp
            sound/sound_lol.cpp
            text/text_lol.cpp
    PRIVATE FILE_SET
            HEADERS
            FILES
            engine/lol.h
            graphics/screen_lol.h
            gui/gui_lol.h
            text/text_lol.h
  )

endif()

if(ENABLE_EOB)
  if(NOT ENABLE_LOL)
    target_sources(kyra PRIVATE $(KYRARPG_COMMON_OBJ))

  endif()

  target_sources(
    kyra
    PRIVATE engine/chargen.cpp
            engine/eobcommon.cpp
            engine/eob.cpp
            engine/darkmoon.cpp
            engine/items_eob.cpp
            engine/magic_eob.cpp
            engine/scene_eob.cpp
            engine/sprites_eob.cpp
            engine/timer_eob.cpp
            graphics/screen_eob.cpp
            graphics/screen_eob_amiga.cpp
            graphics/screen_eob_pc98.cpp
            graphics/screen_eob_segacd.cpp
            graphics/screen_eob_towns.cpp
            gui/gui_eob.cpp
            gui/gui_eob_segacd.cpp
            gui/saveload_eob.cpp
            resource/resource_segacd.cpp
            resource/staticres_eob.cpp
            script/script_eob.cpp
            sequence/seqplayer_eob_segacd.cpp
            sequence/sequences_eob.cpp
            sequence/sequences_darkmoon.cpp
            sound/sound_amiga_eob.cpp
            sound/sound_pc98_eob.cpp
            sound/sound_pc98_darkmoon.cpp
            sound/sound_segacd_eob.cpp
            sound/sound_towns_darkmoon.cpp
            sound/drivers/audiomaster2.cpp
            sound/drivers/mlalf98.cpp
            sound/drivers/capcom98.cpp
            sound/drivers/pcspeaker_v1.cpp
            sound/drivers/segacd.cpp
            text/text_eob_segacd.cpp
    PRIVATE FILE_SET
            HEADERS
            FILES
            engine/eobcommon.h
            engine/eob.h
            engine/darkmoon.h
            graphics/screen_eob.h
            graphics/screen_eob_segacd.h
            gui/gui_eob.h
            gui/gui_eob_segacd.h
            resource/resource_segacd.h
            script/script_eob.h
            sequence/seqplayer_eob_segacd.h
            sound/drivers/audiomaster2.h
            sound/drivers/mlalf98.h
            sound/drivers/capcom98.h
            sound/drivers/segacd.h
            text/text_eob_segacd.h
  )

endif()

add_library(kyra_detection)

target_sources(kyra_detection PRIVATE detection.cpp)
