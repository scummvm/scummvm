add_library(stark STATIC)

target_sources(
  stark
  PRIVATE console.cpp
          gfx/driver.cpp
          gfx/opengls.cpp
          gfx/openglsactor.cpp
          gfx/openglsfade.cpp
          gfx/openglsprop.cpp
          gfx/openglssurface.cpp
          gfx/opengl.cpp
          gfx/openglactor.cpp
          gfx/openglbitmap.cpp
          gfx/openglfade.cpp
          gfx/openglprop.cpp
          gfx/openglsurface.cpp
          gfx/opengltexture.cpp
          gfx/renderentry.cpp
          gfx/surfacerenderer.cpp
          gfx/texture.cpp
          formats/biff.cpp
          formats/biffmesh.cpp
          formats/dds.cpp
          formats/iss.cpp
          formats/tm.cpp
          formats/xarc.cpp
          formats/xmg.cpp
          formats/xrc.cpp
          metaengine.cpp
          model/animhandler.cpp
          model/model.cpp
          model/skeleton_anim.cpp
          movement/followpath.cpp
          movement/followpathlight.cpp
          movement/movement.cpp
          movement/shortestpath.cpp
          movement/stringpullingpath.cpp
          movement/turn.cpp
          movement/walk.cpp
          resources/anim.cpp
          resources/animhierarchy.cpp
          resources/animscript.cpp
          resources/animsoundtrigger.cpp
          resources/bonesmesh.cpp
          resources/bookmark.cpp
          resources/camera.cpp
          resources/container.cpp
          resources/command.cpp
          resources/dialog.cpp
          resources/direction.cpp
          resources/floor.cpp
          resources/floorface.cpp
          resources/floorfield.cpp
          resources/fmv.cpp
          resources/image.cpp
          resources/item.cpp
          resources/knowledge.cpp
          resources/knowledgeset.cpp
          resources/layer.cpp
          resources/level.cpp
          resources/light.cpp
          resources/lipsync.cpp
          resources/location.cpp
          resources/object.cpp
          resources/path.cpp
          resources/pattable.cpp
          resources/root.cpp
          resources/script.cpp
          resources/scroll.cpp
          resources/sound.cpp
          resources/speech.cpp
          resources/string.cpp
          resources/textureset.cpp
          resourcereference.cpp
          savemetadata.cpp
          scene.cpp
          services/archiveloader.cpp
          services/dialogplayer.cpp
          services/diary.cpp
          services/fontprovider.cpp
          services/gameinterface.cpp
          services/global.cpp
          services/resourceprovider.cpp
          services/services.cpp
          services/stateprovider.cpp
          services/staticprovider.cpp
          services/userinterface.cpp
          services/settings.cpp
          services/gamechapter.cpp
          services/gamemessage.cpp
          stark.cpp
          tools/abstractsyntaxtree.cpp
          tools/block.cpp
          tools/command.cpp
          tools/decompiler.cpp
          ui/cursor.cpp
          ui/dialogbox.cpp
          ui/menu/diaryindex.cpp
          ui/menu/locationscreen.cpp
          ui/menu/mainmenu.cpp
          ui/menu/settingsmenu.cpp
          ui/menu/saveloadmenu.cpp
          ui/menu/fmvmenu.cpp
          ui/menu/diarypages.cpp
          ui/menu/dialogmenu.cpp
          ui/window.cpp
          ui/world/actionmenu.cpp
          ui/world/button.cpp
          ui/world/clicktext.cpp
          ui/world/topmenu.cpp
          ui/world/dialogpanel.cpp
          ui/world/fmvscreen.cpp
          ui/world/gamescreen.cpp
          ui/world/gamewindow.cpp
          ui/world/inventorywindow.cpp
          visual/actor.cpp
          visual/effects/bubbles.cpp
          visual/effects/effect.cpp
          visual/effects/fireflies.cpp
          visual/effects/fish.cpp
          visual/explodingimage.cpp
          visual/flashingimage.cpp
          visual/image.cpp
          visual/prop.cpp
          visual/smacker.cpp
          visual/text.cpp
  PRIVATE FILE_SET
          HEADERS
          FILES
          console.h
          gfx/driver.h
          gfx/opengls.h
          gfx/openglsactor.h
          gfx/openglsfade.h
          gfx/openglsprop.h
          gfx/openglssurface.h
          gfx/opengl.h
          gfx/openglactor.h
          gfx/openglbitmap.h
          gfx/openglfade.h
          gfx/openglprop.h
          gfx/openglsurface.h
          gfx/opengltexture.h
          gfx/renderentry.h
          gfx/surfacerenderer.h
          gfx/texture.h
          formats/biff.h
          formats/biffmesh.h
          formats/dds.h
          formats/iss.h
          formats/tm.h
          formats/xarc.h
          formats/xmg.h
          formats/xrc.h
          model/animhandler.h
          model/model.h
          model/skeleton_anim.h
          movement/followpath.h
          movement/followpathlight.h
          movement/movement.h
          movement/shortestpath.h
          movement/stringpullingpath.h
          movement/turn.h
          movement/walk.h
          resources/anim.h
          resources/animhierarchy.h
          resources/animscript.h
          resources/animsoundtrigger.h
          resources/bonesmesh.h
          resources/bookmark.h
          resources/camera.h
          resources/container.h
          resources/command.h
          resources/dialog.h
          resources/direction.h
          resources/floor.h
          resources/floorface.h
          resources/floorfield.h
          resources/fmv.h
          resources/image.h
          resources/item.h
          resources/knowledge.h
          resources/knowledgeset.h
          resources/layer.h
          resources/level.h
          resources/light.h
          resources/lipsync.h
          resources/location.h
          resources/object.h
          resources/path.h
          resources/pattable.h
          resources/root.h
          resources/script.h
          resources/scroll.h
          resources/sound.h
          resources/speech.h
          resources/string.h
          resources/textureset.h
          resourcereference.h
          savemetadata.h
          scene.h
          services/archiveloader.h
          services/dialogplayer.h
          services/diary.h
          services/fontprovider.h
          services/gameinterface.h
          services/global.h
          services/resourceprovider.h
          services/services.h
          services/stateprovider.h
          services/staticprovider.h
          services/userinterface.h
          services/settings.h
          services/gamechapter.h
          services/gamemessage.h
          stark.h
          tools/abstractsyntaxtree.h
          tools/block.h
          tools/command.h
          tools/decompiler.h
          ui/cursor.h
          ui/dialogbox.h
          ui/menu/diaryindex.h
          ui/menu/locationscreen.h
          ui/menu/mainmenu.h
          ui/menu/settingsmenu.h
          ui/menu/saveloadmenu.h
          ui/menu/fmvmenu.h
          ui/menu/diarypages.h
          ui/menu/dialogmenu.h
          ui/window.h
          ui/world/actionmenu.h
          ui/world/button.h
          ui/world/clicktext.h
          ui/world/topmenu.h
          ui/world/dialogpanel.h
          ui/world/fmvscreen.h
          ui/world/gamescreen.h
          ui/world/gamewindow.h
          ui/world/inventorywindow.h
          visual/actor.h
          visual/effects/bubbles.h
          visual/effects/effect.h
          visual/effects/fireflies.h
          visual/effects/fish.h
          visual/explodingimage.h
          visual/flashingimage.h
          visual/image.h
          visual/prop.h
          visual/smacker.h
          visual/text.h
)

if(USE_TINYGL)
  target_sources(
    stark
    PRIVATE gfx/tinygl.cpp
            gfx/tinyglactor.cpp
            gfx/tinyglbitmap.cpp
            gfx/tinyglfade.cpp
            gfx/tinyglprop.cpp
            gfx/tinyglsurface.cpp
            gfx/tinygltexture.cpp
    PRIVATE FILE_SET
            HEADERS
            FILES
            gfx/tinygl.h
            gfx/tinyglactor.h
            gfx/tinyglbitmap.h
            gfx/tinyglfade.h
            gfx/tinyglprop.h
            gfx/tinyglsurface.h
            gfx/tinygltexture.h
  )

endif()

add_library(stark_detection)

target_sources(stark_detection PRIVATE detection.cpp)
