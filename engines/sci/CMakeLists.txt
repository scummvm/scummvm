add_library(sci STATIC)

target_sources(
  sci
  PRIVATE console.cpp
          detection_internal.cpp
          dialogs.cpp
          event.cpp
          metaengine.cpp
          sci.cpp
          util.cpp
          engine/features.cpp
          engine/file.cpp
          engine/gc.cpp
          engine/guest_additions.cpp
          engine/kernel.cpp
          engine/kevent.cpp
          engine/kfile.cpp
          engine/kgraphics.cpp
          engine/klists.cpp
          engine/kmath.cpp
          engine/kmenu.cpp
          engine/kmisc.cpp
          engine/kmovement.cpp
          engine/kparse.cpp
          engine/kpathing.cpp
          engine/kscripts.cpp
          engine/ksound.cpp
          engine/kstring.cpp
          engine/kvideo.cpp
          engine/message.cpp
          engine/object.cpp
          engine/savegame.cpp
          engine/script.cpp
          engine/scriptdebug.cpp
          engine/script_patches.cpp
          engine/selector.cpp
          engine/seg_manager.cpp
          engine/segment.cpp
          engine/state.cpp
          engine/static_selectors.cpp
          engine/tts.cpp
          engine/vm.cpp
          engine/vm_types.cpp
          engine/workarounds.cpp
          graphics/animate.cpp
          graphics/cache.cpp
          graphics/compare.cpp
          graphics/controls16.cpp
          graphics/coordadjuster.cpp
          graphics/cursor.cpp
          graphics/fontkorean.cpp
          graphics/fontsjis.cpp
          graphics/macfont.cpp
          graphics/maciconbar.cpp
          graphics/menu.cpp
          graphics/paint16.cpp
          graphics/palette16.cpp
          graphics/picture.cpp
          graphics/portrait.cpp
          graphics/ports.cpp
          graphics/remap.cpp
          graphics/scifont.cpp
          graphics/scifx.cpp
          graphics/screen.cpp
          graphics/text16.cpp
          graphics/transitions.cpp
          graphics/view.cpp
          graphics/drivers/cga.cpp
          graphics/drivers/cgabw.cpp
          graphics/drivers/common.cpp
          graphics/drivers/default.cpp
          graphics/drivers/ega.cpp
          graphics/drivers/hercules.cpp
          graphics/drivers/init.cpp
          graphics/drivers/pc98_8col_sci0.cpp
          graphics/drivers/pc98_8col_sci1.cpp
          graphics/drivers/pc98_16col.cpp
          graphics/drivers/upscaled.cpp
          graphics/drivers/vgagrey.cpp
          graphics/drivers/win16col.cpp
          graphics/drivers/win256col.cpp
          parser/grammar.cpp
          parser/said.cpp
          parser/vocabulary.cpp
          resource/decompressor.cpp
          resource/resource.cpp
          resource/resource_audio.cpp
          resource/resource_patcher.cpp
          sound/audio.cpp
          sound/midiparser_sci.cpp
          sound/music.cpp
          sound/soundcmd.cpp
          sound/sync.cpp
          sound/drivers/adlib.cpp
          sound/drivers/amigamac0.cpp
          sound/drivers/amigamac1.cpp
          sound/drivers/casio.cpp
          sound/drivers/cms.cpp
          sound/drivers/fb01.cpp
          sound/drivers/fmtowns.cpp
          sound/drivers/midi.cpp
          sound/drivers/pcjr.cpp
          sound/drivers/pc9801.cpp
          video/seq_decoder.cpp
  PRIVATE FILE_SET
          HEADERS
          FILES
          console.h
          detection_internal.h
          dialogs.h
          event.h
          sci.h
          util.h
          engine/features.h
          engine/file.h
          engine/gc.h
          engine/guest_additions.h
          engine/kernel.h
          engine/message.h
          engine/object.h
          engine/savegame.h
          engine/script.h
          engine/scriptdebug.h
          engine/script_patches.h
          engine/selector.h
          engine/seg_manager.h
          engine/segment.h
          engine/state.h
          engine/tts.h
          engine/vm.h
          engine/vm_types.h
          engine/workarounds.h
          graphics/animate.h
          graphics/cache.h
          graphics/compare.h
          graphics/controls16.h
          graphics/coordadjuster.h
          graphics/cursor.h
          graphics/fontkorean.h
          graphics/fontsjis.h
          graphics/macfont.h
          graphics/maciconbar.h
          graphics/menu.h
          graphics/paint16.h
          graphics/palette16.h
          graphics/picture.h
          graphics/portrait.h
          graphics/ports.h
          graphics/remap.h
          graphics/scifont.h
          graphics/scifx.h
          graphics/screen.h
          graphics/text16.h
          graphics/transitions.h
          graphics/view.h
          parser/vocabulary.h
          resource/decompressor.h
          resource/resource.h
          resource/resource_patcher.h
          sound/audio.h
          sound/midiparser_sci.h
          sound/music.h
          sound/soundcmd.h
          sound/sync.h
          video/seq_decoder.h
)

if(ENABLE_SCI32)
  target_sources(
    sci
    PRIVATE engine/hoyle5poker.cpp
            engine/kgraphics32.cpp
            graphics/celobj32.cpp
            graphics/controls32.cpp
            graphics/frameout.cpp
            graphics/paint32.cpp
            graphics/plane32.cpp
            graphics/palette32.cpp
            graphics/remap32.cpp
            graphics/screen_item32.cpp
            graphics/text32.cpp
            graphics/transitions32.cpp
            graphics/video32.cpp
            graphics/cursor32.cpp
            graphics/maccursor32.cpp
            sound/audio32.cpp
            sound/decoders/sol.cpp
            video/robot_decoder.cpp
    PRIVATE FILE_SET
            HEADERS
            FILES
            engine/hoyle5poker.h
            graphics/celobj32.h
            graphics/controls32.h
            graphics/frameout.h
            graphics/paint32.h
            graphics/plane32.h
            graphics/palette32.h
            graphics/remap32.h
            graphics/screen_item32.h
            graphics/text32.h
            graphics/transitions32.h
            graphics/video32.h
            graphics/cursor32.h
            graphics/maccursor32.h
            sound/audio32.h
            sound/decoders/sol.h
            video/robot_decoder.h
  )

endif()

add_library(sci_detection)

target_sources(sci_detection PRIVATE detection.cpp)
# TODO: Remove this when we build this as a DYNAMIC library
target_sources(sci_detection PRIVATE detection_internal.cpp)
