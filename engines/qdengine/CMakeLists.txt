add_library(qdengine STATIC)

target_sources(
  qdengine
  PRIVATE qdengine.cpp
          console.cpp
          dialogs.cpp
          metaengine.cpp
          minigames/adv/common.cpp
          minigames/adv/EffectManager.cpp
          minigames/adv/EventManager.cpp
          minigames/adv/ExportInterface.cpp
          minigames/adv/FlyObject.cpp
          minigames/adv/ObjectContainer.cpp
          minigames/adv/Range.cpp
          minigames/adv/RunTime.cpp
          minigames/adv/TextManager.cpp
          minigames/adv/m_karaoke.cpp
          minigames/adv/m_puzzle.cpp
          minigames/adv/m_scores.cpp
          minigames/adv/m_swap.cpp
          minigames/adv/m_triangles.cpp
          parser/qdscr_parser.cpp
          parser/xml_parser.cpp
          parser/xml_tag_buffer.cpp
          system/sound/snd_dispatcher.cpp
          system/sound/snd_sound.cpp
          system/sound/wav_sound.cpp
          system/graphics/gr_dispatcher.cpp
          system/graphics/gr_draw_sprite_rle_z.cpp
          system/graphics/gr_draw_sprite_rle.cpp
          system/graphics/gr_draw_sprite_z.cpp
          system/graphics/gr_draw_sprite.cpp
          system/graphics/gr_font.cpp
          system/graphics/gr_tile_animation.cpp
          system/graphics/gr_tile_sprite.cpp
          system/graphics/rle_compress.cpp
          system/graphics/UI_TextParser.cpp
          system/input/input_wndproc.cpp
          system/input/keyboard_input.cpp
          system/input/mouse_input.cpp
          qdcore/util/AIAStar_API.cpp
          qdcore/util/fps_counter.cpp
          qdcore/util/LZ77.cpp
          qdcore/util/plaympp_api.cpp
          qdcore/util/ResourceDispatcher.cpp
          qdcore/util/splash_screen.cpp
          qdcore/util/WinVideo.cpp
          qdcore/qd_animation_frame.cpp
          qdcore/qd_animation_info.cpp
          qdcore/qd_animation_set_info.cpp
          qdcore/qd_animation_set_preview.cpp
          qdcore/qd_animation_set.cpp
          qdcore/qd_animation.cpp
          qdcore/qd_camera.cpp
          qdcore/qd_camera_mode.cpp
          qdcore/qd_condition.cpp
          qdcore/qd_condition_data.cpp
          qdcore/qd_condition_group.cpp
          qdcore/qd_condition_object_reference.cpp
          qdcore/qd_conditional_object.cpp
          qdcore/qd_contour.cpp
          qdcore/qd_coords_animation_point.cpp
          qdcore/qd_coords_animation.cpp
          qdcore/qd_counter.cpp
          qdcore/qd_d3dutils.cpp
          qdcore/qd_file_manager.cpp
          qdcore/qd_font_info.cpp
          qdcore/qd_game_dispatcher.cpp
          qdcore/qd_game_dispatcher_base.cpp
          qdcore/qd_game_end.cpp
          qdcore/qd_game_object.cpp
          qdcore/qd_game_object_animated.cpp
          qdcore/qd_game_object_mouse.cpp
          qdcore/qd_game_object_moving.cpp
          qdcore/qd_game_object_state.cpp
          qdcore/qd_game_object_static.cpp
          qdcore/qd_game_scene.cpp
          qdcore/qd_grid_zone.cpp
          qdcore/qd_grid_zone_state.cpp
          qdcore/qd_interface_background.cpp
          qdcore/qd_interface_button.cpp
          qdcore/qd_interface_counter.cpp
          qdcore/qd_interface_dispatcher.cpp
          qdcore/qd_interface_element.cpp
          qdcore/qd_interface_element_state_mode.cpp
          qdcore/qd_interface_element_state.cpp
          qdcore/qd_interface_object_base.cpp
          qdcore/qd_interface_save.cpp
          qdcore/qd_interface_screen.cpp
          qdcore/qd_interface_slider.cpp
          qdcore/qd_interface_text_window.cpp
          qdcore/qd_inventory.cpp
          qdcore/qd_inventory_cell.cpp
          qdcore/qd_minigame.cpp
          qdcore/qd_minigame_config.cpp
          qdcore/qd_minigame_interface.cpp
          qdcore/qd_music_track.cpp
          qdcore/qd_named_object.cpp
          qdcore/qd_named_object_base.cpp
          qdcore/qd_named_object_indexer.cpp
          qdcore/qd_named_object_reference.cpp
          qdcore/qd_resource.cpp
          qdcore/qd_scale_info.cpp
          qdcore/qd_screen_text.cpp
          qdcore/qd_screen_text_dispatcher.cpp
          qdcore/qd_screen_text_set.cpp
          qdcore/qd_setup.cpp
          qdcore/qd_sound.cpp
          qdcore/qd_sound_info.cpp
          qdcore/qd_sprite.cpp
          qdcore/qd_textdb.cpp
          qdcore/qd_trigger_chain.cpp
          qdcore/qd_trigger_element.cpp
          qdcore/qd_video.cpp
  PRIVATE FILE_SET
          HEADERS
          FILES
          qdengine.h
          console.h
          dialogs.h
          metaengine.h
          minigames/adv/common.h
          minigames/adv/EffectManager.h
          minigames/adv/EventManager.h
          minigames/adv/FlyObject.h
          minigames/adv/ObjectContainer.h
          minigames/adv/Range.h
          minigames/adv/RunTime.h
          minigames/adv/TextManager.h
          minigames/adv/m_karaoke.h
          minigames/adv/m_puzzle.h
          minigames/adv/m_scores.h
          minigames/adv/m_swap.h
          minigames/adv/m_triangles.h
          parser/qdscr_parser.h
          parser/xml_parser.h
          parser/xml_tag_buffer.h
          system/sound/snd_dispatcher.h
          system/sound/snd_sound.h
          system/sound/wav_sound.h
          system/graphics/gr_dispatcher.h
          system/graphics/gr_font.h
          system/graphics/gr_tile_animation.h
          system/graphics/gr_tile_sprite.h
          system/graphics/rle_compress.h
          system/graphics/UI_TextParser.h
          system/input/input_wndproc.h
          system/input/keyboard_input.h
          system/input/mouse_input.h
          qdcore/util/AIAStar_API.h
          qdcore/util/fps_counter.h
          qdcore/util/LZ77.h
          qdcore/util/plaympp_api.h
          qdcore/util/ResourceDispatcher.h
          qdcore/util/splash_screen.h
          qdcore/util/WinVideo.h
          qdcore/qd_animation_frame.h
          qdcore/qd_animation_info.h
          qdcore/qd_animation_set_info.h
          qdcore/qd_animation_set_preview.h
          qdcore/qd_animation_set.h
          qdcore/qd_animation.h
          qdcore/qd_camera.h
          qdcore/qd_camera_mode.h
          qdcore/qd_condition.h
          qdcore/qd_condition_data.h
          qdcore/qd_condition_group.h
          qdcore/qd_condition_object_reference.h
          qdcore/qd_conditional_object.h
          qdcore/qd_contour.h
          qdcore/qd_coords_animation_point.h
          qdcore/qd_coords_animation.h
          qdcore/qd_counter.h
          qdcore/qd_d3dutils.h
          qdcore/qd_file_manager.h
          qdcore/qd_font_info.h
          qdcore/qd_game_dispatcher.h
          qdcore/qd_game_dispatcher_base.h
          qdcore/qd_game_end.h
          qdcore/qd_game_object.h
          qdcore/qd_game_object_animated.h
          qdcore/qd_game_object_mouse.h
          qdcore/qd_game_object_moving.h
          qdcore/qd_game_object_state.h
          qdcore/qd_game_object_static.h
          qdcore/qd_game_scene.h
          qdcore/qd_grid_zone.h
          qdcore/qd_grid_zone_state.h
          qdcore/qd_interface_background.h
          qdcore/qd_interface_button.h
          qdcore/qd_interface_counter.h
          qdcore/qd_interface_dispatcher.h
          qdcore/qd_interface_element.h
          qdcore/qd_interface_element_state_mode.h
          qdcore/qd_interface_element_state.h
          qdcore/qd_interface_object_base.h
          qdcore/qd_interface_save.h
          qdcore/qd_interface_screen.h
          qdcore/qd_interface_slider.h
          qdcore/qd_interface_text_window.h
          qdcore/qd_inventory.h
          qdcore/qd_inventory_cell.h
          qdcore/qd_minigame.h
          qdcore/qd_minigame_config.h
          qdcore/qd_minigame_interface.h
          qdcore/qd_music_track.h
          qdcore/qd_named_object.h
          qdcore/qd_named_object_base.h
          qdcore/qd_named_object_indexer.h
          qdcore/qd_named_object_reference.h
          qdcore/qd_resource.h
          qdcore/qd_scale_info.h
          qdcore/qd_screen_text.h
          qdcore/qd_screen_text_dispatcher.h
          qdcore/qd_screen_text_set.h
          qdcore/qd_setup.h
          qdcore/qd_sound.h
          qdcore/qd_sound_info.h
          qdcore/qd_sprite.h
          qdcore/qd_textdb.h
          qdcore/qd_trigger_chain.h
          qdcore/qd_trigger_element.h
          qdcore/qd_video.h
)

if(USE_IMGUI)
  target_sources(
    qdengine
    PRIVATE debugger/debugtools.cpp
    PRIVATE FILE_SET
            HEADERS
            FILES
            debugger/debugtools.h
  )

endif()

add_library(qdengine_detection)

target_sources(qdengine_detection PRIVATE detection.cpp)
